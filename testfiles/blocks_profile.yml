# Example Trust Profile for testing handlebars/template rendering
---
metadata:
  name: Testing Profile
  issuer: JPEG Trust Committee
  date: 2025-06-17T22:44:49.717Z
  version: 2.0.0
  language: en

expressions:
  _hashStatus: if(manifests[0].claim.content_status=="assertion.dataHash.mismatch", "Mismatch", "Match")

---
# Section 1: test statements

- id: non-scalers
  description: object
  report_text: Object - {{expr "asset_info"}}

- id: non-scalers
  description: array
  report_text: Array - {{expr "manifests[0].assertions.'c2pa.hash.data'.exclusions"}}

- id: missing helper
  description: missing
  report_text: Foo - '{{foo}}'

- id: test_conditional_expression
  description: Does the data hash match?
  report_text: Status -  {{ expr "_hashStatus()" }}

---
# Section 2: test blocks

- block:
    name: "test_map"
    value:
      alg: "{{ asset_info.alg }}"
      hash: "{{ asset_info.hash }}"
      noTemplate: true

- block:
    name: "test_array"
    value:
      - "{{ asset_info.alg }}"
      - "{{ asset_info.hash }}"
      - 123456

- block:
    name: "test_scaler"
    value: |
      {{ expr "2*2" }}

- block:
    name: "test_array_return"
    value: |
      {{ expr "manifests[0].assertions.'c2pa.hash.data'.exclusions" }}

- block:
    name: "test_map_return"
    value: |
      {{ expr "manifests[0].claim.assertion_status" }}
