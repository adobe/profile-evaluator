# Example Trust Profile for evaluating no_manifests_credential.json
---
_metadata:
  name: Experimental XMP GenAI Profile
  issuer: JPEG Trust Committee
  date: 2025-10-12T01:03:16.443Z
  version: 2.0.0
  language: en
---
# Section 0 - Output the metadata
- block:
    name: "profile_metadata"
    value: |
      {{ expr "@._metadata" }}
---
# Section 1

- id: generalInfo
  description: Section 1 - General Information
  title: General Information
  report_text: This section provides information about general stuff

- # check for manifests
  id: manifests
  description: does the asset contain any manifests
  expression: hasProperty(@, "manifest") || hasProperty(@, "declaration")
  report_text:
    "true":
      en: This media asset has one or more Trust Manifests
      de: Translation in German
      zh: Translation in Simplified Chinese
    "false":
      en: No Trust Manifests found in this media asset

- # check for XMP
  id: xmp
  description: does the asset contain any xmp data
  expression: hasProperty(@.metadata, "@context")
  report_text:
    "true":
      en: This media asset has XMP metadata
      de: Translation in German
      zh: Translation in Simplified Chinese
    "false":
      en: No XMP found in this media asset

- id: genAI
  description: Checks if the DigitalSourceType field exists, and if so, whether it is a "trainedAlgorithmicMedia" value
  expression: |
    hasProperty(@.metadata, "iptc4xmpExt:DigitalSourceType") &&
    (contains(@.metadata.'iptc4xmpExt:DigitalSourceType', "trainedAlgorithmicMedia") || 
     contains(@.metadata.'iptc4xmpExt:DigitalSourceType', "compositeWithTrainedAlgorithmicMedia"))
  report_text:
    "true":
      en: The asset identifies itself as being produced by a trained algorithmic media.
    "false":
      en: The asset does not contain a DigitalSourceType field with a recognized trainedAlgorithmicMedia value.

- # check compliance
  id: jpt:profile_compliance
  description: is the asset compliant with this profile?
  expression: >
    !(@.profile.manifests) && @.profile.xmp && @.profile.genAI
  report_text:
    "true":
      en: This media asset is compliant with this profile.
    "false":
      en: This media asset is not compliant with this profile.

---
# Section 2

- block:
    name: "xmp-genAI-info"
    value:
      genAIApp: |
        {{ expr "@.metadata.'iptc4xmpExt:Contributor:Name:value'" }}
      supplier: |
        {{ expr "@.metadata.'plus:ImageSupplier:ImageSupplierName'" }}
      date: |
        {{ expr "@.metadata.'iptc4xmpExt:AODateCreated'" }}
      type: |
        {{ expr "@.metadata.'iptc4xmpExt:DigitalSourceType'" }}
